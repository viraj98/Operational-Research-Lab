% Viraj Patel
% 16IM10028
% ---  Transport Plane Problem  -------
% ---    Decision Variables     -------
% xij = number of crates of type i and placed at j where i=1(A),2(B)...,5(E)
% and j=1 -> Front, j=2 -> Middle, j=3 -> Back
% Objective function, Z = Max 50000(x11+x12+x13) + 60000(x21+x22+x23)....30000(x51+x52+x53)  
%% ---- Constraints -----%%
% -- Weight Constraints --
% 500x11 + 1500x21 + 2100x31 + 600x41 + 400x51 <= 8000
% 500x12 + 1500x22 + 2100x32 + 600x42 + 400x52 <= 20000
% 500x13 + 1500x23 + 2100x33 + 600x43 + 400x53 <= 6000
% -- Volume Constraints --
% 25x11 + 15x21 + 13x31 + 20x41 + 16x51 <= 200
% 25x12 + 15x22 + 13x32 + 20x42 + 16x52 <= 500
% 25x13 + 15x23 + 13x33 + 20x43 + 16x53 <= 300
% -- Plane Balance Constraints --
% Front + Back - Middle <= 0
% (500x11 + 1500x21 + 2100x31 + 600x41 + 400x51) + (500x13 + 1500x23 + 2100x33 
% + 600x43 + 400x53) - (500x12 + 1500x22 + 2100x32 + 600x42 + 400x52) <= 0
% Middle - 2*(Front + Back) <= 0
% (500x12 + 1500x22 + 2100x32 + 600x42 + 400x52) - 2(500x11 + 1500x21 + 2100x31 
% + 600x41 + 400x51 + 500x13 + 1500x23 + 2100x33 + 600x43 + 400x53) <= 0
% -- Number of Crates Constraints --
% x11 + x12 + x13 <= 12
% x21 + x22 + x23 <= 8
% x31 + x32 + x33 <= 22
% x41 + x42 + x43 <= 15
% x51 + x52 + x53 <= 11
%---------------------------------------------------------------------------------------------------------------
C = [-50000 -50000 -50000 -60000 -60000 -60000 -90000 -90000 -90000 -40000 -40000 -40000 -30000 -30000 -30000];
A = [500 0 0 1500 0 0 2100 0 0 600 0 0 400 0 0;
     0 500 0 0 1500 0 0 2100 0 0 600 0 0 400 0;
     0 0 500 0 0 1500 0 0 2100 0 0 600 0 0 400;
     25 0 0 15 0 0 13 0 0 20 0 0 16 0 0;
     0 25 0 0 15 0 0 13 0 0 20 0 0 16 0;
     0 0 25 0 0 15 0 0 13 0 0 20 0 0 16;
     500 -500 500 1500 -1500 1500 2100 -2100 2100 600 -600 600 400 -400 400;
     -1000 500 -1000 -3000 1500 -3000 -4200 2100 -4200 -1200 600 -1200 -800 400 -800;
     1 1 1 0 0 0 0 0 0 0 0 0 0 0 0;
     0 0 0 1 1 1 0 0 0 0 0 0 0 0 0;
     0 0 0 0 0 0 1 1 1 0 0 0 0 0 0;
     0 0 0 0 0 0 0 0 0 1 1 1 0 0 0;
     0 0 0 0 0 0 0 0 0 0 0 0 1 1 1];
 b = [8000;20000;6000;200;500;300;0;0;12;8;22;15;11];
 lb = [0 0 0 0 0 0 0 0 0 0 0 0 0 0 0];
 intcon = [1:15];
 [x,fval] = intlinprog(C,intcon,A,b,[],[],lb);
 fprintf (' Total cost is : %d \n',  (-fval));
 fprintf('  Front | Middle| Back\n\t');
 for i=1:3:15
     fprintf('%d\t|  \t',int16(x(i)));
     fprintf('%d\t|  \t',int16(x(i+1)));
     fprintf('%d\n\t',int16(x(i+2)));
 end
 
     
     